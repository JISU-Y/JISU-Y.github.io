---
layout: single
title: "[TIL] 면접 준비 및 면접 대비 공부"
categories: TIL
tag: [TIL, 면접, 번역톡]
toc: true
author_profile: true
sidebar:
  nav: "docs"
---

# TIL

**면접 대비 프로젝트 발표**

## 면접 준비

### 번역톡 발표

발표드릴 내용은 22년 1월부터 2월까지 약 5주간 진행했던 번역톡 프로젝트입니다.

#### 팀 인원

먼저 팀 구성은 4명으로 디자이너 1명, 프론트 2명, 백엔드 1명으로 진행했습니다.

#### 프로젝트 소개

다음 프로젝트 소개를 드리자면, 번역톡 프로젝트는 네이버의 e번역 카페의 번역가와 번역 의뢰자가 게시글로 불편하게 소통하는 것을 개선하고자 제작하게 되었습니다.

따라서 번역가용 페이지와 의뢰자용 페이지를 나누었고, 채팅 기능을 포함하여 제작하게 되었습니다.

#### 기술 스택

전체 기술 스택은 다음과 같습니다.

언어는 Javascript를 기반으로 React를 사용하였고, 백엔드는 Express, DB는 mySQL을 사용하였습니다.

프론트 기술 스택을 조금 더 자세하게 말씀드리자면, Javascript를 사용한 이유는 프로젝트 진행 당시 정적 타입에 대한 지식이 부족했기에 프로젝트를 바로 진행할 수 있도록 javascript를 사용하여 React를 선택하게 되었습니다.

css는 컴포넌트 단위로 css를 적용할 수 있고, state에 따라 동적으로 css를 적용하기 쉬웠던 경험이 있어 styled-component를 선택했습니다.

통신 api는 브라우저 호환성은 이유로 axios 라이브러리를 사용하여 처리했습니다.

#### 페이지

페이지는 다음과 같이 의뢰자와 번역가 그리고 공통으로 사용하는 페이지로 크게 나뉘어져 있습니다.

#### 기능 소개

기능에 대해 간단하게 설명드리겠습니다.

의뢰자가 번역 타입(영상, 텍스트)을 선택하여 번역 요청을 하면 요청서가 번역가의 번역 의뢰 리스트에 뜨게 됩니다.

이때 번역가가 의뢰 리스트에 있는 요청 중 하고 싶은 번역을 클릭하여 상세 내용을 확인한 후 견적서를 작성하여 전송합니다.

올린 견적서는 의뢰자의 요청서를 클릭하면 여러 번역가에게 도착한 견적서를 확인할 수 있고, 그 중 마음에 드는 견적을 골라 채팅방을 생성하여 이야기를 나누고, 번역가를 확정할 수 있습니다.

이 중 저는 번역가에 해당하는 페이지와 기능 전반과 채팅 기능을 구현하였습니다.

#### 폴더 구조

폴더 구조는 다음과 같이 구성하였습니다.

처음 진행하는 프로젝트였으나 개인적으로 진행했던 프로젝트에서 폴더 구조를 매우 개선하고 싶어 아토믹 디자인 등 React 폴더 구조에 대해서 찾아보았습니다.

저희는 아토믹 디자인을 기반으로 컴포넌트를 아주 작은 단위까지 나누어서 구조를 설정하되 협의를 통해 기능별로도 컴포넌트를 정리하여 효율성을 높였습니다.

#### 구현

**카카오 로그인 로직**

카카오 로그인을 구현하려고 했을 때, 백엔드와의 플로우가 어떻게 되는지 몰랐고

프론트에서 백엔드로 카카오 로그인 요청을 하면 백엔드에서 알아서 인가 코드와 토큰 요청해서 프론트에서는 결국 토큰만 받으면 되는 것으로 생각했습니다.

하지만, 그렇게 구현하고 보니 카카오 로그인을 한 경우 다음과 같은 에러가 발생했다.

프론트에서 ‘http://${백엔드주소}/api/auth/kakao/client%27’ 백엔드 주소를 리다이렉트하려고 했기 때문에 당연히 오류가 발생하였고, 카카오 로그인 로직에 대해서 학습했습니다.

그래서 카카오 로그인 로직은 다음과 같습니다.

프론트

카카오 로그인 창을 띄워준다. 유저에게 아이디/비밀번호를 입력하게 해서 카카오에게 인가 코드를 요청한다. 카카오에게 인가 코드가 오면 그것을 백엔드에 전달한다. 백엔드에서 처리해서 가입 관련 데이터를 받아서 처리한다.

백엔드

프론트에게서 받은 인가 코드로 카카오에 토큰을 요청한다. 카카오에게서 토큰이 오면 그 토큰과 로직을 기반으로 auth(번역가인지, 클라이언트인지)에 대한 정보를 프론트에게 넘겨준다.

이렇게 하여 카카오 로그인 자체는 구현했습니다.

번역가와 의뢰자가 나뉘어져 있을 때의 로직은 다음과 같습니다.

먼저 유저 로그인 로직은

카카오톡으로 로그인 후 리다이렉트 주소를 다음과 같이 카카오 dev에 설정하여 리다이렉트 되도록하고, 백엔드에 인가 코드를 전달하여 token과 auth 정보를 받습니다.

처음 가입한 경우는 정상 로그인 처리되어 의뢰자의 메인 페이지로 이동하도록 했고,

로그인한 유저가 번역가로 등록이 되어 있는데 의뢰자로 로그인 시도한 경우 alert 창과 함께 원래 로그인(메인)페이지로 이동하도록 구현했습니다.

다음 번역가 로그인 로직은

번역가로 로그인을 클릭하여 다음과 같은 리다이렉트 주소로 리다이렉트한 후 동일하게 백엔드에서 translator라는 정보를 받습니다. 추가로, 번역가의 정보를 입력했는지에 대한 데이터를 받습니다.

이동할 페이지는

처음 가입한 경우 번역가로서의 승인을 관리자에게 받아야하기 때문에 로그인(메인)페이지로 이동합니다.

또한 따라서 가입이 된 상태지만 approve가 안된 경우, 즉 approve가 false 인 경우에도 로그인(메인)페이지로 이동합니다.

승인이 되었을 때에도 두가지로 나누어서 라우팅을 해야합니다.

승인이 되었지만 번역가 정보를 입력하지 않았을 경우 번역가 가입 폼 페이지로 이동하고, 승인이 되었고, 번역가 정보도 제출된 사용자일 경우 번역 리스트 페이지로 이동하여 사용할 수 있도록 구현했습니다.

#### 사진 업로드 및 미리보기 구현

이미지를 업로드하고 이미지를 보여줄 때 다운로드를 받아서 url로 이미지를 보여주지만,

번역가 가입 폼 혹은 번역가 마이페이지 세팅 페이지에서는 프로필 선택을 할 때마다 이미지를 업로드하면 리소스가 많이 들게 되므로 제출하기 할 때만 이미지를 버킷, storage에 올리는 것으로 했습니다.

따라서 변경될 때마다는 이미지를 미리보기로 구현했습니다.

input에서 file이 변경될 때 즉, 사용자가 이미지 파일을 변경했을 때마다 preview state를 두어 file이 있을 경우에만 createObjectURL 메서드를 통해 이미지를 미리보기로 보여주도록 했습니다.

이를 통해 firebase의 통신을 줄이고, 버킷의 용량을 확보할 수 있었습니다.

## 회고 (TIL)

**2022.03.09 Daily 회고**

✏오늘 한 일

- 면접 대비 발표 준비
- 면접 대비 공부
- 프로그래머스 문제 1개 풀기

⁉느낀 점

🎃현재 나의 상태

<hr>
