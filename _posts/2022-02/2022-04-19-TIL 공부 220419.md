---
layout: single
title: "[TIL] [TIL] 디자인 시스템 구현 강의 (2)"
categories: TIL
tag: [TIL, React]
toc: true
author_profile: true
sidebar:
  nav: "docs"
---

## TIL

**TIL**

### Number Type Input

Number Type input에서 '-' 또한 입력되지 않도록 하려고 했다.

1. chrome에서는 input에 number type을 주면 숫자를 제외한 나머지는 JS 처리 없이 입력되지 않는다.  
   그러나 -, +, e, E는 숫자로 간주되어 입력이 된다.  
   이를 없애려

   ```html
   <input onKeyDown={ (e) => ['e', 'E', '-', '+'].includes(e.key) &&
   e.preventDefault() } />
   ```

   이렇게 했으나

   chrome에서만 다음과 같이 적용되고 나머지 브라우저에서는 숫자가 아닌 입력(non-numeric input) 또한 입력이 되도록 설정되어 있기 때문에 이는 좋은 해결방법이 아니다.

2. 따라서 애초에 onKeyDown 때 숫자만 입력되도록 하려고 했다.

   처음에 다음과 같이 구현했다.

   ```html
   <input onKeyDown={ (e) => { if(isNumber(e.key)) { // isNumber는 lodash에서
   사용 e.preventDefault() } } } />
   ```

   그러나 이렇게 되면 숫자가 아닌 입력에서는 아예 동작이 불가능하다.  
   Backspace나 enter, tab, 방향키는 무조건 동작해야한다.

   따라서 다음과 같이 조건을 추가하였다. (special keys / function keys 를 구별)

   ```html
   <input onKeyDown={ (e) => { if(isNumber(e.key) && e.key.length > 1) {
   e.preventDefault() } } } />
   ```

   이렇게 enter, backspace 등과 같은 key들을 구별하는 함수가 lodash에도 없고,  
   정규식으로도 할 수 없는 부분이기 때문에  
   length가 2자 이상인 것은 캐릭터가 아닌 펑션 키들을 나타내는 것이므로 다음과 같이 조건을 추가했다.

   best practice는 계속해서 찾아야한다고 생각한다.

## 회고 (TIL)

**2022.04.19 Daily 회고**

✏오늘 한 일

- 마이너 업무
  - 이미지 비율 문제 개선
  - 숫자 입력 '-' 입력 방지 (feat. react-hook-form)
- 디자인 시스템 공부
  - storybook 써보기

⁉느낀 점

어떻게 프로젝트가 돌아가고 있는지는 대충 따라가고 있다고 생각한다.

그러나 지라에 올라온 현재 업무들을 할 수 있을까가 걱정된다.

UI 관련 작업은 그냥 시간을 투자하고 질문해가면서 할 수 있을 것이라고 생각이 드나  
백엔드와 협업하여 데이터를 요청하는 등의 작업은 어떻게 하게 될 지 궁금하기도 하고 걱정도 된다.

일단 라이브러리 공부하고, 업무들 연습하면서 꾸준히 코드 분석하고, 코드 이해도를 높이는 것이 먼저일 것 같다.

rollup과 storybook, yarn berry, 디자인 시스템에 관해 계속 공부해야한다. (처음부터 맡게 될 업무이다보니 미리 공부하는 게 좋을 것 같다.)

🎃현재 나의 상태

허리 아프다. 왜 아무도 스탠드 책상을 안쓰는거야!!

<hr>
